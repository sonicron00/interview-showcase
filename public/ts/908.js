"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[908],{7214:(t,s,e)=>{s.X=!0;var n=e(655),r=e(629),i=e(8425),o=e(6559);s.Z={name:"Transactions",components:{PageBanner:i.default,Alert:o.default},data:function(){return{sortBy:"transaction_date",filter:null,sortDesc:!0,perPage:15,currentPage:1,editMode:!1,dismissSecs:10,dismissCountDown:0,isLoading:!1,prodInput:!1,selectedProduct:null,purchasePrice:0,purchaseQty:0,searchFields:["product_descr"],fields:[{key:"product_id",sortable:!0},{key:"transaction_date",sortable:!0},{key:"transaction_type",sortable:!0},{key:"product_descr",sortable:!1},{key:"qty",sortable:!1},{key:"price",sortable:!1},{key:"edit",label:""}]}},mounted:function(){this.transactions.isLoaded||this.loadTransactions(),this.products.isLoaded||this.loadProducts()},computed:n.__assign(n.__assign(n.__assign({},r.mapGetters("transactions",{transactions:"getTransactions"})),r.mapGetters("products",{products:"getProducts"})),{rows:function(){return this.transactions.length},pageCount:function(){return Math.ceil(this.transactions.length/this.perPage)},actionButtons:function(){return this.editMode?["Cancel"]:["Enter Purchase"]}}),methods:n.__assign(n.__assign(n.__assign({},r.mapActions("transactions",["loadTransactions","createPurchase"])),r.mapActions("products",["loadProducts"])),{actionClick:function(t){"Enter Purchase"===t&&(this.editMode=!0,this.prodInput=!0),"Cancel"===t&&this.cancelAdd()},countDownChanged:function(t){this.dismissCountDown=t},recordPurchase:function(){this.createPurchase({productID:this.selectedProduct.productID,quantity:this.purchaseQty,price:this.purchasePrice,description:this.selectedProduct.description}),this.prodInput=!1,this.editMode=!1,this.clearInputs(),this.dismissCountDown=10},cancelAdd:function(){this.prodInput=!1,this.editMode=!1,this.clearInputs()},clearInputs:function(){this.selectedProduct=null,this.purchaseQty=0,this.purchasePrice=0}})}},686:(t,s,e)=>{e.d(s,{Z:()=>i});var n=e(3645),r=e.n(n)()((function(t){return t[1]}));r.push([t.id,".jumbotron{background-color:#8c9eff;border-radius:12px}",""]);const i=r},6559:(t,s,e)=>{e.r(s),e.d(s,{default:()=>r});const n={name:"Alert.vue",props:["dismissCountDown"],data:function(){return{dismissSecs:10}},methods:{countDownChanged:function(t){this.dismissCountDown=t}}};const r=(0,e(1900).Z)(n,(function(){var t=this,s=t._self._c;return s("b-alert",{attrs:{show:t.dismissCountDown,dismissible:"",variant:"warning"},on:{dismissed:function(s){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[s("p",[t._v("This alert will dismiss after "+t._s(t.dismissCountDown)+" seconds...")]),t._v(" "),s("b-progress",{attrs:{variant:"warning",max:t.dismissSecs,value:t.dismissCountDown,height:"4px"}})],1)}),[],!1,null,null,null).exports},8425:(t,s,e)=>{e.r(s),e.d(s,{default:()=>c});const n={name:"Welcome.vue",props:{title:String,subtitle:String,actions:[]},methods:{click:function(t){this.$emit("clickAction",t)}}};var r=e(3379),i=e.n(r),o=e(686),a={insert:"head",singleton:!1};i()(o.Z,a);o.Z.locals;const c=(0,e(1900).Z)(n,(function(){var t=this,s=t._self._c;return s("v-container",[s("div",{staticClass:"col-12 text-center"},[s("b-jumbotron",{scopedSlots:t._u([{key:"header",fn:function(){return[t._v(t._s(t.title))]},proxy:!0},{key:"lead",fn:function(){return[t._v("\n        "+t._s(t.subtitle)+"\n      ")]},proxy:!0}])},[t._v(" "),t._v(" "),t.actions?s("hr",{staticClass:"my-4"}):t._e(),t._v(" "),t._l(t.actions,(function(e){return s("v-list-item-action",{key:e},[s("v-btn",{on:{click:function(s){return t.click(e)}}},[t._v(t._s(e))])],1)}))],2)],1)])}),[],!1,null,null,null).exports},9908:(t,s,e)=>{e.r(s),e.d(s,{__esModule:()=>n.X,default:()=>i});var n=e(7214);const r=n.Z;const i=(0,e(1900).Z)(r,(function(){var t=this,s=t._self._c;return s("v-container",[s("PageBanner",{attrs:{title:"Transactions",subtitle:"Manual input for purchase transactions",actions:t.actionButtons},on:{clickAction:t.actionClick}}),t._v(" "),t.dismissCountDown?s("div",{staticClass:"col-12 text-center"},[s("b-alert",{attrs:{show:t.dismissCountDown,dismissible:"",variant:"success"},on:{dismissed:function(s){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[s("p",[t._v("Transaction successfully recorded!")]),t._v(" "),s("b-progress",{attrs:{variant:"success",max:t.dismissSecs,value:t.dismissCountDown,height:"4px"}})],1)],1):t._e(),t._v(" "),t.prodInput?s("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344",variant:"outlined"}},[s("v-card-text",[s("v-select",{attrs:{id:"selectedProduct",items:t.products,"item-value":"id","item-text":"description","return-object":"",solo:"",label:"Select a product"},model:{value:t.selectedProduct,callback:function(s){t.selectedProduct=s},expression:"selectedProduct"}}),t._v(" "),s("v-text-field",{attrs:{label:"Purchase quantity",type:"number"},model:{value:t.purchaseQty,callback:function(s){t.purchaseQty=s},expression:"purchaseQty"}}),t._v(" "),s("v-text-field",{attrs:{label:"Purchase price",type:"number"},model:{value:t.purchasePrice,callback:function(s){t.purchasePrice=s},expression:"purchasePrice"}})],1),t._v(" "),s("v-card-actions",[s("v-btn",{attrs:{color:"#78be20",disabled:0===this.purchasePrice||0===this.purchaseQty||!this.selectedProduct,block:""},on:{click:t.recordPurchase}},[t._v("Record purchase")])],1)],1):t._e(),t._v(" "),s("div",{staticClass:"overflow-auto"},[s("p",{staticClass:"mt-3"},[t._v("Current Page: "+t._s(t.currentPage)+" of "+t._s(t.pageCount))]),t._v(" "),s("b-overlay",{attrs:{show:t.isLoading,rounded:"sm"}},[s("b-form-group",[s("b-input-group",{attrs:{size:"sm"}},[s("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Search by product name"},model:{value:t.filter,callback:function(s){t.filter=s},expression:"filter"}})],1)],1),t._v(" "),this.transactions.length>1?s("b-pagination",{staticClass:"mt-4",attrs:{"total-rows":t.rows,"per-page":t.perPage,"aria-controls":"tran-table"},model:{value:t.currentPage,callback:function(s){t.currentPage=s},expression:"currentPage"}}):t._e(),t._v(" "),this.transactions.length>1?s("b-table",{attrs:{id:"tran-table",items:t.transactions,fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"total-rows":t.rows,"per-page":t.perPage,"current-page":t.currentPage,filter:t.filter,"filter-included-fields":t.searchFields,responsive:"sm"},on:{"update:sortBy":function(s){t.sortBy=s},"update:sort-by":function(s){t.sortBy=s},"update:sortDesc":function(s){t.sortDesc=s},"update:sort-desc":function(s){t.sortDesc=s}},scopedSlots:t._u([{key:"cell(qty)",fn:function(s){return[t._v("\n          "+t._s(s.value.toLocaleString("en-US"))+"\n        ")]}},{key:"cell(price)",fn:function(s){return[t._v("\n          "+t._s(s.value.toLocaleString("en-US"))+"\n        ")]}}],null,!1,901787576)}):t._e()],1)],1)],1)}),[],!1,null,null,null).exports}}]);